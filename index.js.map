{"version":3,"file":"index.js","sources":["../src/js/faq.js","../src/js/reviews.js"],"sourcesContent":["\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nnew Accordion('.accordion-container', {\nelementClass: 'ac-item',\ntriggerClass: 'ac-header',\npanelClass: 'ac-panel',\nduration: 4000,\nopenOnInit: [0],\nbeforeOpen: el =>\n    el.querySelector('button.ac-trigger').setAttribute('aria-expanded', true),\nbeforeClose: el =>\n    el.querySelector('button.ac-trigger').setAttribute('aria-expanded', false),\n});\n\n\n\n\n","import axios from 'axios';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/swiper-bundle.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst reviewsUrl = 'https://portfolio-js.b.goit.study/api/reviews';\nconst reviewsList = document.querySelector('.reviews-list');\nconst nextBtn = document.querySelector('.swiper-next-btn');\nconst prevBtn = document.querySelector('.swiper-prev-btn');\nconst reviewsSection = document.querySelector('.reviews');\n\nlet reviewsFetched = false;\n\nasync function fetchReviews() {\n  try {\n    const response = await axios.get(reviewsUrl);\n    const data = response.data;\n\n    // Uncomment to test error showing when reviews are empty.\n    // data.length = 0;\n\n    if (data.length === 0) {\n      reviewsFetched = false;\n    } else {\n      reviewsFetched = true;\n      renderReviews(data);\n      initializeSwiper();\n    }\n  } catch (error) {\n    reviewsFetched = false;\n    console.error(error);\n  }\n}\n\nfunction renderReviews(reviews) {\n  const reviewsMarkup = reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n        <li class=\"swiper-slide review-item\">\n          <div class=\"review-item-container\">\n            <p class=\"review-text\">${review}</p>\n            <div class=\"author-info\">\n              <img class=\"author-avatar\" src=\"${avatar_url}\" alt=\"Author avatar\" />\n              <p class=\"author-name\">${author}</p>\n            </div>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n\n  reviewsList.innerHTML = reviewsMarkup;\n}\n\n// Initialize Swiper\nfunction initializeSwiper() {\n  const swiper = new Swiper('.swiper', {\n    slidesPerView: 1,\n    spaceBetween: 10,\n    navigation: {\n      nextEl: '.swiper-prev-btn',\n      prevEl: '.swiper-next-btn',\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    breakpoints: {\n      1280: {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      },\n    },\n    on: {\n      reachEnd() {\n        nextBtn.disabled = true;\n      },\n      reachBeginning() {\n        prevBtn.disabled = true;\n      },\n      fromEdge() {\n        nextBtn.disabled = false;\n        prevBtn.disabled = false;\n      },\n    },\n  });\n}\n\n// Intersection Observer setup\nconst observer = new IntersectionObserver(entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && !reviewsFetched) {\n      showErrorAndNotFound();\n      observer.unobserve(entry.target);\n    }\n  });\n});\n\nobserver.observe(reviewsSection);\n\nfunction showErrorAndNotFound() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Reviews not found.',\n    position: 'topRight',\n  });\n\n  reviewsList.innerHTML = `\n    <li class=\"swiper-slide review-item\">\n      <div class=\"review-item-container\">\n        <p class=\"review-text\">Not Found</p>\n      </div>\n    </li>\n  `;\n\n  prevBtn.disabled = true;\n  nextBtn.disabled = true;\n}\n\n// Initial fetch of reviews\nfetchReviews();\n"],"names":["Accordion","el","reviewsUrl","reviewsList","nextBtn","prevBtn","reviewsSection","reviewsFetched","fetchReviews","data","axios","renderReviews","initializeSwiper","error","reviews","reviewsMarkup","author","avatar_url","review","Swiper","observer","entries","entry","showErrorAndNotFound","iziToast"],"mappings":"2wBAIA,IAAIA,EAAU,uBAAwB,CACtC,aAAc,UACd,aAAc,YACd,WAAY,WACZ,SAAU,IACV,WAAY,CAAC,CAAC,EACd,WAAYC,GACRA,EAAG,cAAc,mBAAmB,EAAE,aAAa,gBAAiB,EAAI,EAC5E,YAAaA,GACTA,EAAG,cAAc,mBAAmB,EAAE,aAAa,gBAAiB,EAAK,CAC7E,CAAC,ECRD,MAAMC,EAAa,gDACbC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAiB,SAAS,cAAc,UAAU,EAExD,IAAIC,EAAiB,GAErB,eAAeC,GAAe,CAC5B,GAAI,CAEF,MAAMC,GADW,MAAMC,EAAM,IAAIR,CAAU,GACrB,KAKlBO,EAAK,SAAW,EAClBF,EAAiB,IAEjBA,EAAiB,GACjBI,EAAcF,CAAI,EAClBG,IAEH,OAAQC,EAAO,CACdN,EAAiB,GACjB,QAAQ,MAAMM,CAAK,CACpB,CACH,CAEA,SAASF,EAAcG,EAAS,CAC9B,MAAMC,EAAgBD,EACnB,IACC,CAAC,CAAE,OAAAE,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IAAK;AAAA;AAAA;AAAA,qCAGLA,CAAM;AAAA;AAAA,gDAEKD,CAAU;AAAA,uCACnBD,CAAM;AAAA;AAAA;AAAA;AAAA,OAKxC,EACA,KAAK,EAAE,EAEVb,EAAY,UAAYY,CAC1B,CAGA,SAASH,GAAmB,CACX,IAAIO,EAAO,UAAW,CACnC,cAAe,EACf,aAAc,GACd,WAAY,CACV,OAAQ,mBACR,OAAQ,kBACT,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,YAAa,CACX,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,GAAI,CACF,UAAW,CACTf,EAAQ,SAAW,EACpB,EACD,gBAAiB,CACfC,EAAQ,SAAW,EACpB,EACD,UAAW,CACTD,EAAQ,SAAW,GACnBC,EAAQ,SAAW,EACpB,CACF,CACL,CAAG,CACH,CAGA,MAAMe,EAAW,IAAI,qBAAqBC,GAAW,CACnDA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,gBAAkB,CAACf,IAC3BgB,IACAH,EAAS,UAAUE,EAAM,MAAM,EAErC,CAAG,CACH,CAAC,EAEDF,EAAS,QAAQd,CAAc,EAE/B,SAASiB,GAAuB,CAC9BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qBACT,SAAU,UACd,CAAG,EAEDrB,EAAY,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQxBE,EAAQ,SAAW,GACnBD,EAAQ,SAAW,EACrB,CAGAI,EAAc"}